<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>{{ 'SETTINGS.TITLE' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="page-background">
  <div class="page-inner">

    <!-- =============================
         TIPO DE MAPA
    ============================== -->
    <div class="card">
      <div class="card-label">{{ 'SETTINGS.MAP_TYPE' | translate }}</div>

      <div class="dropdown" (click)="mostrarMapa = !mostrarMapa">
        <span>
          {{ mapType === 'google' ? ('SETTINGS.GOOGLE' | translate) : ('SETTINGS.OSM' | translate) }}
        </span>

        <div class="dropdown-options" *ngIf="mostrarMapa">
          <div (click)="mapType = 'google'; mostrarMapa = false">{{ 'SETTINGS.GOOGLE' | translate }}</div>
        </div>
      </div>
    </div>

    <!-- =============================
         GEOLOCALIZACIÓN
    ============================== -->
    <div class="card">
      <div class="card-label">{{ 'SETTINGS.GEOLOCATION' | translate }}</div>

      <div class="toggle-box" (click)="geolocationEnabled = !geolocationEnabled">
        <span>{{ geolocationEnabled ? ('SETTINGS.ENABLED' | translate) : ('SETTINGS.DISABLED' | translate) }}</span>
      </div>
    </div>

    <!-- =============================
         TEMA (CLARO / OSCURO)
    ============================== -->
    <div class="card">
      <div class="card-label">{{ 'SETTINGS.THEME' | translate }}</div>

      <div class="dropdown" (click)="mostrarTema = !mostrarTema">
        <span>
          {{ theme === 'claro' ? ('SETTINGS.LIGHT' | translate) : ('SETTINGS.DARK' | translate) }}
        </span>

        <div class="dropdown-options" *ngIf="mostrarTema">
          <div (click)="theme = 'claro'; aplicarTema(); mostrarTema = false">{{ 'SETTINGS.LIGHT' | translate }}</div>
          <div (click)="theme = 'oscuro'; aplicarTema(); mostrarTema = false">{{ 'SETTINGS.DARK' | translate }}</div>
        </div>
      </div>
    </div>

    <!-- =============================
         IDIOMA
    ============================== -->
    <div class="card">
      <div class="card-label">{{ 'SETTINGS.LANGUAGE' | translate }}</div>

      <div class="dropdown" (click)="mostrarIdioma = !mostrarIdioma">
        <span>
          {{ language === 'es' ? ('SETTINGS.SPANISH' | translate) : ('SETTINGS.ENGLISH' | translate) }}
        </span>

        <div class="dropdown-options" *ngIf="mostrarIdioma">
          <div (click)="changeLanguage('es'); mostrarIdioma = false">{{ 'SETTINGS.SPANISH' | translate }}</div>
          <div (click)="changeLanguage('en'); mostrarIdioma = false">{{ 'SETTINGS.ENGLISH' | translate }}</div>
        </div>
      </div>
    </div>

    <!-- =============================
         VERSIÓN
    ============================== -->
    <div class="info-box">
      <ion-icon name="information-circle-outline"></ion-icon>
      <p>{{ 'SETTINGS.VERSION' | translate }} 1.0</p>
    </div>

    <!-- =============================
         BOTONES DE ACCIÓN
    ============================== -->
    <div class="actions">

      <button class="btn-main" (click)="guardarAjustes()">
        <ion-icon name="save-outline"></ion-icon>
        <span>{{ 'SETTINGS.SAVE' | translate }}</span>
      </button>

      <button class="btn-danger" (click)="cerrarSesion()">
        <ion-icon name="log-out-outline"></ion-icon>
        <span>{{ 'SETTINGS.LOGOUT' | translate }}</span>
      </button>

    </div>

  </div>
</ion-content>
