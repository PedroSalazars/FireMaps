<ion-header>
  <ion-toolbar>
    <ion-title>Notificaciones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="page-background">

  <div class="page-inner">

    <h2 class="section-title">Incidentes reportados</h2>
    <p class="section-subtitle">
      Aquí verás los reportes de incidentes registrados en FireMaps Chiloé.
    </p>

    <!-- Lista de incidentes -->
    <div *ngIf="incidentes.length > 0; else emptyState" class="cards-list">
      <div class="incident-card" *ngFor="let incidente of incidentes">
        <!-- Cabecera de la tarjeta -->
        <div class="incident-header">
          <div
            class="incident-type"
            [ngClass]="(incidente.type || '').toLowerCase()"
          >
            <ion-icon name="alert-circle"></ion-icon>
            <span>{{ incidente.type || 'Incidente' }}</span>
          </div>

          <div class="incident-pill">
            {{ incidente.priority || 'Normal' }}
          </div>
        </div>

        <!-- Contenido principal -->
        <div class="incident-body">
          <div class="incident-field">
            <span class="label">Dirección:</span>
            <span class="value">
              {{ incidente.address || 'Sin dirección' }}
            </span>
          </div>
          <div class="incident-field">
            <span class="label">Estado:</span>
            <span class="value">
              {{ incidente.status || 'Pendiente' }}
            </span>
          </div>
          <div class="incident-field">
            <span class="label">Fecha:</span>
            <span class="value">
              {{ incidente.createdAt?.seconds * 1000 | date:'short' }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Estado vacío -->
    <ng-template #emptyState>
      <div class="empty-state">
        <ion-icon name="notifications-off"></ion-icon>
        <p>No hay notificaciones registradas</p>
      </div>
    </ng-template>

  </div>
</ion-content>

<!-- FOOTER SIMPLE CON 3 BOTONES (igual que en Bombero) -->
<ion-footer>
  <ion-toolbar class="footer-toolbar">
    <div class="footer-buttons">

      <ion-button class="footer-btn" (click)="goToNotificaciones()">
        <ion-icon name="notifications-outline" slot="start"></ion-icon>
        <span>Notificaciones</span>
      </ion-button>

      <ion-button class="footer-btn" (click)="goToHome()">
        <ion-icon name="home-outline" slot="start"></ion-icon>
        <span>Home</span>
      </ion-button>

      <ion-button class="footer-btn" (click)="goToAjustes()">
        <ion-icon name="settings-outline" slot="start"></ion-icon>
        <span>Ajustes</span>
      </ion-button>

    </div>
  </ion-toolbar>
</ion-footer>
